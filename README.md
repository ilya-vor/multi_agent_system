# Настройка сервера

## Шаги настройки:

1. **Файл `generate-certs.sh`**
   - Указать внешний IP-адрес для подключения клиентов
   - Файл: `server/generate-certs.sh`

2. **Генерация сертификатов**
   - Запустить скрипт `generate-certs.sh`
   - **Причина**: требуется SSL-подключение (необходимо для Spade)

3. **Конфигурация Prosody**
   - Базовый файл: `server/prosody-config/prosody.cfg.lua`
   - Добавлен один VirtualHost (строка 163)
   - **Перед запуском**: указать внешний IP в строке 163

4. **Настройка окружения**
   - Файл: `server/.env`
   - Указать внешний IP для подключения клиентов

5. **Сборка и запуск**
   ```bash
   docker-compose up -d
   ```

6. **Проверка**
   - Система должна работать корректно

---

# Настройка клиента

1. **Создание виртуального окружения**
   ```bash
   python -m venv venv
   ```

2. **Активация виртуального окружения**
   - **Windows**:
     ```bash
     venv\Scripts\activate
     ```

3. **Установка зависимостей**
   ```bash
   pip install -r requirements.txt
   ```

---

# Запуск клиентов

## Варианты запуска:

### 1. Автоматический запуск (`start.py`)
- **Функция**: 
  - случайное распределение задач между агентами
  - запуск агентов
  - балансировка
  - периодическое сохранение
- **Конфигурационные файлы**:
  - Задачи: `tasks.json`
  - Агенты: `agents.json`
- **Результаты**: сохраняются в папку `plans/new`

### 2. Ручной запуск (`start_two.py`)
- **Функция**: кастомный выбор агентов для запуска
- **Требования**:
  - У выбранных агентов должны быть начальные списки задач
  - Путь к задачам: `plans/old`
- **Использование**: для тестирования работы на нескольких устройствах
- **Результаты**: сохраняются в папку `plans/new`